(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{117:function(t,e,a){},140:function(t,e){},141:function(t,e){},186:function(t,e,a){"use strict";a.r(e);var s=a(0),l=a.n(s),n=a(27),i=a.n(n),r=(a(117),a(81)),o=a.n(r),c=a(99),d=a(7),u=a(6),h=a(13),p=a(15),b=a(14),j=a(59),x=a.n(j),m=a(75),f=a(82),g=a(45),O=a(64),y=a.n(O),C=a(103),v=a.n(C),D=a(1),w=function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).state={num_clusters:0,clusterColors:[]},t}return Object(u.a)(a,[{key:"render",value:function(){return Object(D.jsx)("div",{children:Object(D.jsx)(v.a,{data:this.props.data,layout:this.props.layout,style:k.scatterContainer})})}}]),a}(s.Component),k={scatterContainer:{position:"fixed",z_index:1,top:0,overflow_x:"hidden",left:0,marginTop:"12%",marginLeft:"26%",width:"52%",height:"73%"}},S=w,z=a(226),A=function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(d.a)(this,a);for(var s=arguments.length,l=new Array(s),n=0;n<s;n++)l[n]=arguments[n];return(t=e.call.apply(e,[this].concat(l))).state={num_clusters:2},t.DecreaseItem=function(){t.state.num_clusters<=2||t.setState({num_clusters:t.state.num_clusters-1},(function(){t.props.onChange&&t.props.onChange(t.state)}))},t.IncrementItem=function(){t.setState({num_clusters:t.state.num_clusters+1},(function(){t.props.onChange&&t.props.onChange(t.state)}))},t}return Object(u.a)(a,[{key:"render",value:function(){return Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"40%",justifyContent:"space-between",marginBottom:"5%",height:"50px",paddingTop:"10px"},children:[Object(D.jsx)("div",{children:Object(D.jsx)("label",{children:Object(D.jsx)("h5",{children:" Cluster data "})})}),Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",height:"30px"},children:["Num clusters: ",Object(D.jsx)(z.a,{variant:"contained",size:"small",onClick:this.DecreaseItem,children:"-"}),Object(D.jsx)("p",{children:this.state.num_clusters}),Object(D.jsx)(z.a,{variant:"contained",size:"large",onClick:this.IncrementItem,children:" + "})]})]})}}]),a}(s.Component),R=a(5),L=a(16),N=a(104),_=function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(d.a)(this,a);for(var s=arguments.length,l=new Array(s),n=0;n<s;n++)l[n]=arguments[n];return(t=e.call.apply(e,[this].concat(l))).state={outlierCheck:!1,clusterCheck:!1,clusterColors:t.props.clusterColors,downloadableData:[],data:t.props.data,pressed:-1},t.rangeSelector=function(e,a){t.setState({columnRange:a}),console.log(a)},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this;return Object(D.jsxs)("div",{className:"block-example border-light",style:P.download,children:[Object(D.jsxs)("label",{children:[Object(D.jsx)("input",{name:"outliers",type:"checkbox",checked:this.state.outlierCheck,readOnly:!0,disabled:0===this.props.OutlierData.length,onClick:function(){t.setState({outlierCheck:!t.state.outlierCheck});for(var e=[],a=0;a<t.state.data.length;a++){var s=t.state.downloadableData.length>0?t.state.downloadableData[a]:t.state.data[a];t.state.clusterCheck||(s=Object.fromEntries(Object.entries(s).filter((function(t){return"cluster"!==Object(L.a)(t,1)[0]}))));var l=t.props.OutlierData[a];s=Object(R.a)(Object(R.a)({},s),{},{outlier:l}),e=[].concat(Object(b.a)(e),[s])}t.setState({downloadableData:e})}}),"\t"," Remove Outliers"]}),Object(D.jsxs)("label",{children:[Object(D.jsx)("input",{name:"clustering",type:"checkbox",checked:this.state.clusterCheck,onChange:function(){if(t.state.clusterCheck)t.setState({clusterCheck:!t.state.clusterCheck});else{for(var e=[],a=0;a<t.state.data.length;a++){var s=t.state.downloadableData.length>0?t.state.downloadableData[a]:t.state.data[a];t.state.outlierCheck||(s=Object.fromEntries(Object.entries(s).filter((function(t){return"outlier"!==Object(L.a)(t,1)[0]})))),s=Object(R.a)(Object(R.a)({},s),{},{cluster:t.props.clusterNames[t.props.clusterColors[a]]}),e=[].concat(Object(b.a)(e),[s])}t.setState({clusterCheck:!t.state.clusterCheck,downloadableData:e})}},disabled:0===this.props.clusterColors.length}),"\t"," Include Clustering Info"]}),Object(D.jsx)(z.a,{variant:"outlined",children:Object(D.jsx)(N.CSVLink,{data:0===this.state.downloadableData.length?this.state.data:this.state.downloadableData,onClick:function(){t.setState({clusterCheck:!1,outlierCheck:!1})},children:"Download Data"})})]})}}]),a}(s.Component),P={download:{display:"flex",flexDirection:"column",position:"fixed",bottom:"6%",right:"4%",width:"15%",padding:"20px",border:"3px solid",borderRadius:10}},T=_,U=a(217),M=a(225),F=function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(d.a)(this,a);for(var s=arguments.length,l=new Array(s),n=0;n<s;n++)l[n]=arguments[n];return(t=e.call.apply(e,[this].concat(l))).state={columnRange:t.props.columnRange},t.rangeSelector=function(e,a){t.setState({columnRange:a})},t.handleApplyClick=function(){t.props.onChange(t.state)},t}return Object(u.a)(a,[{key:"render",value:function(){return Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",justifyContent:"space-between",marginBottom:"5%",height:"50px",paddingTop:"10px"},children:[Object(D.jsx)(U.a,{id:"range-slider",gutterBottom:!0,children:Object(D.jsx)("h6",{children:"Columns: "})}),Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"},children:[Object(D.jsx)(M.a,{value:this.state.columnRange,onChange:this.rangeSelector,valueLabelDisplay:"auto",min:1,max:20}),Object(D.jsx)(z.a,{onClick:this.handleApplyClick,variant:"outlined",style:{marginLeft:"10px"},children:"Apply"})]}),"PC",this.state.columnRange[0]," to PC",this.state.columnRange[1]]})}}]),a}(s.Component),I=function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(d.a)(this,a);for(var s=arguments.length,l=new Array(s),n=0;n<s;n++)l[n]=arguments[n];return(t=e.call.apply(e,[this].concat(l))).state={loading:!1},t.handleFileUpload=function(e){e.preventDefault();var a=new FormData;a.append("file",e.target.files[0]),a.append("filename",e.target.value),t.setState({loading:!0}),fetch("http://10.4.4.115:5000/uploadPCAIR",{method:"POST",body:a}).then((function(e){t.setState({loading:!1})}))},t}return Object(u.a)(a,[{key:"render",value:function(){return Object(D.jsxs)("div",{style:V.pcair,children:[Object(D.jsx)("label",{children:"Upload necessary files for PCAir"}),Object(D.jsxs)("div",{style:V.uploads,children:[Object(D.jsx)("label",{style:{marginRight:"6%"},children:".bed"}),Object(D.jsx)("input",{type:"file",accept:".bed",onChange:this.handleFileUpload})]}),Object(D.jsxs)("div",{style:V.uploads,children:[Object(D.jsx)("label",{style:{marginRight:"6%"},children:".bim"}),Object(D.jsx)("input",{type:"file",accept:".bim",onChange:this.handleFileUpload})]}),Object(D.jsxs)("div",{style:V.uploads,children:[Object(D.jsx)("label",{style:{marginRight:"6%"},children:".fam"}),Object(D.jsx)("input",{type:"file",accept:".fam",onChange:this.handleFileUpload})]}),Object(D.jsxs)("div",{style:V.uploads,children:[Object(D.jsx)("label",{style:{marginRight:"3%"},children:"Kinship"}),Object(D.jsx)("input",{type:"file",accept:".txt",onChange:this.handleFileUpload})]}),this.state.loading&&Object(D.jsx)(y.a,{type:"TailSpin",color:"#00BFFF",height:"30",width:"30",style:{marginTop:"2%",marginLeft:"20%"}})]})}}]),a}(s.Component),V={pcair:{paddingTop:"20px",paddingBottom:"20px"},uploads:{display:"flex",flexDirection:"row",padding:"2px"}},E=I,B=a(48),W=function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(d.a)(this,a);for(var s=arguments.length,l=new Array(s),n=0;n<s;n++)l[n]=arguments[n];return(t=e.call.apply(e,[this].concat(l))).state={cluster_names:{}},t.showOutputOptions=function(){var e=t.props.uniqueClusters;return e<2&&(e=2),Object(D.jsxs)("div",{children:[Object(D.jsx)("h6",{children:"Change cluster names:"}),Object(b.a)(Array(e)).map((function(e,a){return Object(D.jsxs)("div",{style:{marginTop:"10px"},children:[Object(D.jsxs)("label",{style:{width:"30%"},children:["Cluster ",a]}),Object(D.jsx)("input",{type:"text",name:a,style:{marginLeft:"5%",width:"60%"},onChange:function(e){var s=t.state.cluster_names;s[a]=e.target.value,t.setState({cluster_names:s})}})]})}))]})},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this;return Object(D.jsxs)("div",{children:[this.showOutputOptions(),Object(D.jsx)(z.a,{variant:"outlined",onClick:function(e){t.props.parentCallback(t.state.cluster_names),e.preventDefault()},style:{marginLeft:"50%",marginTop:"10%"},children:"Submit"})]})}}]),a}(s.Component),K=a(221),q=a(223),X=a(224),Y=a(222),Z=a(228),H=(a(170),["#3f91ba","#801f65","#86af43","#d73521","#1d4c91","#2c663b","#cc9d3f","#ff7ae6","#d87368","#99f7a2","#a3a6ed","#0740ba","#277f05"]),J=["circle","square","diamond","x","star","triangle-up","bowtie"];m.a.register.apply(m.a,Object(b.a)(m.b));var $=2,G=function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(d.a)(this,a);for(var s=arguments.length,l=new Array(s),n=0;n<s;n++)l[n]=arguments[n];return(t=e.call.apply(e,[this].concat(l))).state={columnRange:[1,10],selectedFile:null,imageURL:"",columns:null,data:null,distributionData:[],pressed:-1,cluster_names:{},DRAlgorithm:"",DRActions:[{label:"PCA",value:"PCA"},{label:"t-SNE 2D",value:"tsne1"},{label:"t-SNE 3D",value:"tsne2"}],selectOutlierActions:[{label:"None",value:"method0"},{label:"1std",value:"method1"},{label:"2std",value:"method2"},{label:"3std",value:"method3"}],allActions:[],selectActions:[],selectedColumns:[null,null,null],selectedOption:null,selectedUploadOption:null,isLoading:!1,clusterColors:[],show:!0,multiValue:[],describingValues:[],selectedDescribingColumn:{value:"None",label:"None"},selectedOutlierMethod:null,OutlierData:[],showOutputOptions:!1,selectedColorShape:0},t.handleMultiChange=function(e){console.log(e);for(var a=[],s=0;s<t.state.columns.length;s++)a.push({value:t.state.columns[s].name.toLowerCase(),label:t.state.columns[s].name});t.setState({multiValue:[{value:"None",label:"None"}].concat(Object(b.a)(e)),selectActions:a.filter((function(t){return e.indexOf(t)<0}))})},t.handleOutlierChange=function(e){console.log(t.state.selectedOutlierMethod),t.setState({selectedOutlierMethod:e.label})},t.setColumns=function(e){for(var a=[],s=0;s<e.length;s++)a.push({value:e[s].name.toLowerCase(),label:e[s].name});t.setState({columns:e,selectActions:a,allActions:a})},t.setData=function(e){t.setState({data:e})},t.setOutlierData=function(e){t.setState({OutlierData:e.map((function(t){return parseInt(t[0],10)}))})},t.onFileChange=function(e){t.setState({selectedFile:e.target.files[0]})},t.correlationMatrixUpload=function(){return t.state.selectedFile?Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{style:{fontSize:"0.8vw"},children:"File Details:"}),Object(D.jsxs)("p",{children:["File Name:"," ",t.state.selectedFile.name.substr(0,t.state.selectedFile.name.indexOf("."))]})]}):Object(D.jsxs)("div",{children:[Object(D.jsx)("br",{}),Object(D.jsx)("h4",{style:{fontSize:"0.8vw"},children:"Upload the Dataset"})]})},t.scatter1d=function(e){var a=[],s=[],l=[];if(null!=t.state.data&&null!=e){for(var n=0;n<t.state.data.length;n++)a.push(n),s.push(t.state.data[n][e]),l.push(t.state.data[n].MappingID2);var i=[{name:"Data",x:a,y:s,mode:"markers",text:l,hovertemplate:"<i>(%{x}, %{y:.4f}) </i><br><b>Mapping ID</b>:%{text}</b></br>",marker:{color:H[0]}}]}return Object(D.jsx)(S,{data:i,layout:{title:"1D plot of "+e,xaxis:{title:"MappingID2"},yaxis:{title:e}}})},t.scatterCategorical=function(e,a,s,l,n){var i=[],r=[],o={},c=[];if(null!=n){for(var d=0;d<n.length;d++)-1===r.indexOf(n[d])&&r.push(n[d]);for(var u=0;u<r.length;u++)c.push({}),2===e?"0"===t.state.selectedColorShape?c[u]={name:r[u],x:[],y:[],z:[],type:"scatter3d",mode:"markers",marker:{color:H[u],symbol:J[0],size:4},text:"",hovertemplate:"<i>(%{x:.4f}, %{y:.4f}) </i>"}:c[u]={name:r[u],x:[],y:[],z:[],type:"scatter3d",mode:"markers",marker:{color:H[0],symbol:J[u],size:4},text:"",hovertemplate:"<i>(%{x:.4f}, %{y:.4f}) </i>"}:"0"===t.state.selectedColorShape?c[u]={name:r[u],x:[],y:[],mode:"markers",marker:{color:H[u],symbol:J[0]},text:"",hovertemplate:"<i>(%{x:.4f}, %{y:.4f}) </i>"}:c[u]={name:r[u],x:[],y:[],mode:"markers",marker:{color:H[0],symbol:J[u]},text:"",hovertemplate:"<i>(%{x:.4f}, %{y:.4f}) </i>"}}if(null!=t.state.data)for(var h=0;h<t.state.data.length;h++){var p=r.indexOf(n[h]);0===e?(c[p].x.push(h),c[p].y.push(t.state.data[h][a])):1===e?(c[p].x.push(t.state.data[h][a]),c[p].y.push(t.state.data[h][s])):(c[p].x.push(t.state.data[h][a]),c[p].y.push(t.state.data[h][s]),c[p].z.push(t.state.data[h][l])),i.push(t.state.data[h][a])}for(u=0;u<r.length;u++)c.text=i;var b=0===e?"1D plot of "+a:1===e?"2D plot of "+a+"and "+s:"3D plot of "+a+", "+s+" and "+l;return o=0===e?{title:b,xaxis:{title:"MappingID2"},yaxis:{title:s}}:1===e?{title:b,xaxis:{title:a},yaxis:{title:s}}:{autosize:!0,scene:{aspectratio:{x:1,y:1,z:1},camera:{center:{x:0,y:0,z:0},eye:{x:1.25,y:1.25,z:1.25},up:{x:0,y:0,z:1}},xaxis:{type:"linear",zeroline:!1,title:a},yaxis:{type:"linear",zeroline:!1,title:s},zaxis:{type:"linear",zeroline:!1,title:l}},title:b},Object(D.jsx)(S,{data:c,layout:o})},t.scatterCategoricalandOutliers=function(e,a,s,l,n,i,r){var o=[],c=[],d={};if(null!=n){for(var u=0;u<n.length;u++)-1===c.indexOf(n[u])&&c.push(n[u]);for(var h=[],p=0;p<c.length;p++){var b=r?"grey":H[p],j=r?H[0]:H[p],x=r?"0":c[p];2===e?(h.push({name:x,x:[],y:[],z:[],type:"scatter3d",mode:"markers",marker:{color:j,size:2},text:"",hovertemplate:"<i>(%{x:.4f}, %{y:.4f}) </i>"}),h.push({name:"Outliers "+x,x:[],y:[],z:[],type:"scatter3d",mode:"markers",marker:{color:b,size:4,symbol:"cross",opacity:"0.5"},text:"",hovertemplate:"<i>(%{x:.4f}, %{y:.4f}) </i>"})):(h.push({name:x,x:[],y:[],mode:"markers",marker:{color:j},text:"",hovertemplate:"<i>(%{x:.4f}, %{y:.4f}) </i>"}),h.push({name:"Outliers "+x,x:[],y:[],mode:"markers",marker:{color:b,symbol:"cross",opacity:"0.5"},text:"",hovertemplate:"<i>(%{x:.4f}, %{y:.4f}) </i>"}))}}if(null!=t.state.data)for(var m=0;m<t.state.data.length;m++){var f=c.indexOf(n[m]);0===e?i[m]?(h[2*f+1].x.push(m),h[2*f+1].y.push(t.state.data[m][a])):(h[2*f].x.push(m),h[2*f].y.push(t.state.data[m][a])):1===e?i[m]?(h[2*f+1].x.push(t.state.data[m][a]),h[2*f+1].y.push(t.state.data[m][s])):(h[2*f].x.push(t.state.data[m][a]),h[2*f].y.push(t.state.data[m][s])):i[m]?(h[2*f+1].x.push(t.state.data[m][a]),h[2*f+1].y.push(t.state.data[m][s]),h[2*f+1].z.push(t.state.data[m][l])):(h[2*f].x.push(t.state.data[m][a]),h[2*f].y.push(t.state.data[m][s]),h[2*f].z.push(t.state.data[m][l])),o.push(t.state.data[m][a])}for(p=0;p<c.length;p++)h.text=o;var g=0===e?"1D plot of "+a:1===e?"2D plot of "+a+" and "+s:"3D plot of "+a+", "+s+" and "+l;return d=0===e?{title:g,xaxis:{title:"MappingID2"},yaxis:{title:s}}:1===e?{title:g,xaxis:{title:a},yaxis:{title:s}}:{autosize:!0,scene:{aspectratio:{x:1,y:1,z:1},camera:{center:{x:0,y:0,z:0},eye:{x:1.25,y:1.25,z:1.25},up:{x:0,y:0,z:1}},xaxis:{type:"linear",zeroline:!1,title:a},yaxis:{type:"linear",zeroline:!1,title:s},zaxis:{type:"linear",zeroline:!1,title:l}},title:g},Object(D.jsx)(S,{data:h,layout:d})},t.scatter2d=function(e,a){var s=[],l=[],n=[];if(null!=t.state.data&&null!=e&&null!=a){for(var i=0;i<t.state.data.length;i++)s.push(t.state.data[i][e]),l.push(t.state.data[i][a]),n.push(t.state.data[i].MappingID2);var r=[{name:"Data",x:s,y:l,mode:"markers",text:n,hovertemplate:"<i>(%{x:.4f}, %{y:.4f}) </i><br><b>Mapping ID</b>:%{text}</b></br>",marker:{color:H[0]}}]}return Object(D.jsx)(S,{data:r,layout:{title:"2D plot of "+e+" and "+a,xaxis:{title:e},yaxis:{title:a}}})},t.scatter3d=function(e,a,s){var l=[],n=[],i=[],r=[];if(null!=t.state.data&&null!=e&&null!=a&&null!=s){for(var o=0;o<t.state.data.length;o++)l.push(t.state.data[o][e]),i.push(t.state.data[o][a]),n.push(t.state.data[o][s]),r.push(t.state.data[o].MappingID2);var c=[{name:"Data",x:l,y:i,z:n,mode:"markers",type:"scatter3d",text:r,hovertemplate:"<i>(%{x:.4f}, %{y:.4f}) </i><br><b>Mapping ID</b>:%{text}</b></br>",marker:{color:H[0],size:2}}],d={autosize:!0,scene:{aspectratio:{x:1,y:1,z:1},camera:{center:{x:0,y:0,z:0},eye:{x:1.25,y:1.25,z:1.25},up:{x:0,y:0,z:1}},xaxis:{type:"linear",zeroline:!1,title:e},yaxis:{type:"linear",zeroline:!1,title:a},zaxis:{type:"linear",zeroline:!1,title:s}},title:"3D plot of "+e+", "+a+" and "+s}}return Object(D.jsx)(S,{data:c,layout:d})},t.processData=function(){var e=Object(c.a)(o.a.mark((function e(a,s){var l,n,i,r,c,d,u,h,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l=a.split(/\r\n|\n/),n=l[0].split(/,(?![^"]*"(?:(?:[^"]*"){2})*[^"]*$)/),i=[],r=1;r<l.length;r++)if(c=l[r].split(/,(?![^"]*"(?:(?:[^"]*"){2})*[^"]*$)/),n&&c.length===n.length){for(d={},u=0;u<n.length;u++)(h=c[u]).length>0&&('"'===h[0]&&(h=h.substring(1,h.length-1)),'"'===h[h.length-1]&&(h=h.substring(h.length-2,1))),n[u]&&(d[n[u]]=h);Object.values(d).filter((function(t){return t})).length>0&&i.push(d)}p=n.map((function(t){return{name:t,selector:t}})),!0===s?t.setOutlierData(i):(t.setData(i),t.setColumns(p));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),t.handleFileUpload=function(e){t.setState({selectedFile:e.target.files[0]});var a=e.target.files[0],s=new FileReader;s.onload=function(a){var s=a.target.result,l=f.read(s,{type:"binary"}),n=l.SheetNames[0],i=l.Sheets[n],r=f.utils.sheet_to_csv(i,{header:1});t.processData(r,!1).then((function(){"PCA"===t.state.selectedUploadOption||"t-SNE"===t.state.selectedUploadOption||t.UploadCMDataset(e.target.files[0])}))},s.readAsBinaryString(a)},t.handleSelectXChange=function(e){t.setState({selectedColumns:[e.label,t.state.selectedColumns[1],t.state.selectedColumns[2]]})},t.handleSelectYChange=function(e){t.setState({selectedColumns:[t.state.selectedColumns[0],e.label,t.state.selectedColumns[2]]})},t.handleSelectZChange=function(e){t.setState({selectedColumns:[t.state.selectedColumns[0],t.state.selectedColumns[1],e.label]})},t.onUploadValueChange=function(e){t.setState({selectedUploadOption:e.target.value})},t.onValueChangeDims=function(e){var a=e.target.value,s=[];"1D"===a?(s=[t.state.selectedColumns[0],null,null],t.setState({selectedOption:e.target.value,selectedColumns:s})):"2D"===a?((s=t.state.selectedColumns)[2]=null,t.setState({selectedOption:e.target.value,selectedColumns:s})):t.setState({selectedOption:a})},t.onValueChangeColorShape=function(e){t.setState({selectedColorShape:e.target.value}),t.showScatterPlot()},t.formSubmit=function(t){t.preventDefault()},t.UploadCMDataset=function(e){var a={df:t.state.data};t.setState({isLoading:!0});var s="http://10.4.4.115:5000/";"PCA"===t.state.DRAlgorithm?s+="uploadCM":"t-SNE 2D"===t.state.DRAlgorithm?s+="cmtsne2d":"t-SNE 3D"===t.state.DRAlgorithm&&(s+="cmtsne3d"),x.a.post(s,a,{headers:{"Content-Type":"application/json"}}).then((function(e){t.setState({isLoading:!1,selectedUploadOption:"PCA"}),t.processData(e.data,!1)}))},t.runKmeans=function(){console.log($);var e={df:t.state.data,num_clusters:$};t.setState({isLoading:!0}),x.a.post("http://10.4.4.115:5000/runkmeans",e,{headers:{"Content-Type":"application/json"}}).then((function(e){var a={};Object(b.a)(Array($)).map((function(t,e){a[e]=e})),t.setState({isLoading:!1,selectedUploadOption:"PCA",clusterColors:e.data,cluster_names:a,showOutputOptions:!0,distributionData:[],selectedDescribingColumn:{value:"None",label:"None"}})}))},t.runPCAir=function(){t.setState({isLoading:!0}),x.a.post("http://10.4.4.115:5000/runPCAIR",{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data),t.setState({isLoading:!1}),t.processData(e.data,!1)}))},t.detectOutliers=function(){if("None"===t.state.selectedOutlierMethod)t.setOutlierData([]);else{var e={df:t.state.data,method:t.state.selectedOutlierMethod,columnRange:t.state.columnRange,combineType:t.state.pressed};t.setState({isLoading:!0}),x.a.post("http://10.4.4.115:5000/detectoutliers",e,{headers:{"Content-Type":"application/json"}}).then((function(e){t.setState({isLoading:!1}),t.processData(e.data,!0)}))}},t.handleSpecificColumns=function(e){t.setState({distributionData:"None"===e.label?[]:t.state.data.map((function(t){return t[e.label]})),selectedDescribingColumn:e,showOutputOptions:!1,cluster_names:[],clusterColors:[]})},t.handleDRAChange=function(e){t.setState({DRAlgorithm:e.label})},t.showScatterPlot=function(){var e=t.state.selectedColumns[0],a=t.state.selectedColumns[1],s=t.state.selectedColumns[2],l=t.state.distributionData,n=t.state.OutlierData;return null===t.state.selectedColumns[0]&&null===t.state.selectedColumns[1]&&null===t.state.selectedColumns[2]?Object(D.jsx)(S,{data:[]}):null===t.state.selectedColumns[1]&&null===t.state.selectedColumns[2]?t.state.clusterColors.length>0||l.length>0||n.length>0?n.length>0?t.state.clusterColors.length>0?t.scatterWithClusters(0,e,null,null,!0,n):l.length>0?t.scatterCategoricalandOutliers(0,e,null,null,l,n,!1):t.scatterCategoricalandOutliers(0,e,null,null,n,n,!0):l.length>0?t.scatterCategorical(0,e,null,null,l,!1):t.scatterWithClusters(0,e,null,null,!1):t.scatter1d(e):null===t.state.selectedColumns[2]?t.state.clusterColors.length>0||l.length>0||n.length>0?n.length>0?t.state.clusterColors.length>0?t.scatterWithClusters(1,e,a,null,!0,n):l.length>0?t.scatterCategoricalandOutliers(1,e,a,null,l,n,!1):t.scatterCategoricalandOutliers(1,e,a,null,n,n,!0):l.length>0?t.scatterCategorical(1,e,a,s,l):t.scatterWithClusters(1,e,a,null,!1,null,null):t.scatter2d(e,a):t.state.clusterColors.length>0||l.length>0||n.length>0?n.length>0?t.state.clusterColors.length>0?t.scatterWithClusters(2,e,a,s,!0,n):l.length>0?t.scatterCategoricalandOutliers(2,e,a,s,l,n,!1):t.scatterCategoricalandOutliers(2,e,a,s,n,n,!0):l.length>0?t.scatterCategorical(2,e,a,s,l):t.scatterWithClusters(2,e,a,s,!1,null,null):t.scatter3d(e,a,s)},t.IncrementHandler=function(t){$=t.num_clusters},t.handleOutlierColumnChange=function(e){t.setState({columnRange:e.columnRange})},t.handleTabOutputCallback=function(e){t.setState({cluster_names:e})},t.onPressReset=function(){t.setState({OutlierData:[],cluster_names:{},clusterColors:[],distributionData:[]})},t}return Object(u.a)(a,[{key:"scatterWithClusters",value:function(t,e,a,s,l,n){var i=[],r=[],o={};if(2===t)var c=[];var d=[];if(l){var u=[],h=[];if(2===t)var p=[]}for(var b=0;b<$;b++)i.push([]),r.push([]),2===t&&c.push([]),l&&(u.push([]),h.push([]),2===t&&p.push([])),d.push([]);for(var j=[],x=0;x<$;x+=1)j.push(H[x]);if(null!=this.state.data){for(var m=0;m<this.state.data.length;m++){var f=this.state.clusterColors[m];l&&n[m]?0===t?(u[f].push(m),h[f].push(this.state.data[m][e])):1===t?(u[f].push(this.state.data[m][e]),h[f].push(this.state.data[m][a])):(u[f].push(this.state.data[m][e]),h[f].push(this.state.data[m][a]),p[f].push(this.state.data[m][s])):0===t?(i[f].push(m),r[f].push(this.state.data[m][e])):1===t?(i[f].push(this.state.data[m][e]),r[f].push(this.state.data[m][a])):(i[f].push(this.state.data[m][e]),r[f].push(this.state.data[m][a]),c[f].push(this.state.data[m][s]))}for(var g=[],O=0;O<$;O+=1){l&&(2===t?g.push({name:"Outliers "+this.state.cluster_names[O],x:u[O],y:h[O],z:p[O],mode:"markers",type:"scatter3d",marker:{color:j[O],size:4,symbol:"cross",opacity:.5},text:d[O],hovertemplate:"<i>(%{x:.4f}, %{y:.4f}, %{z:.4f}) </i>"}):g.push({name:"Outliers "+this.state.cluster_names[O],x:u[O],y:h[O],mode:"markers",marker:{color:j[O],symbol:"cross",opacity:.5},text:d[O],hovertemplate:"<i>(%{x:.4f}, %{y:.4f}, %{z:.4f}) </i>"}));var y=isNaN(this.state.cluster_names[O])?this.state.cluster_names[O]:"Cluster "+this.state.cluster_names[O];2===t?g.push({name:y,x:i[O],y:r[O],z:c[O],mode:"markers",type:"scatter3d",marker:{color:j[O],size:2},text:d[O],hovertemplate:"<i>(%{x:.4f}, %{y:.4f}, %{z:.4f}) </i>"}):g.push({name:y,x:i[O],y:r[O],mode:"markers",marker:{color:j[O]},text:d[O],hovertemplate:"<i>(%{x:.4f}, %{y:.4f}) </i>"})}}var C=0===t?"1D plot of "+e:1===t?"2D plot of "+e+" and "+a:"3D plot of "+e+", "+a+" and "+s;return o=2===t?{autosize:!0,scene:{aspectratio:{x:1,y:1,z:1},camera:{center:{x:0,y:0,z:0},eye:{x:1.25,y:1.25,z:1.25},up:{x:0,y:0,z:1}},xaxis:{type:"linear",zeroline:!1,title:e},yaxis:{type:"linear",zeroline:!1,title:a},zaxis:{type:"linear",zeroline:!1,title:s}},title:C}:{title:C,xaxis:{title:e},yaxis:{title:a}},Object(D.jsx)(S,{data:g,layout:o})}},{key:"render",value:function(){var t=this;return Object(D.jsxs)("div",{style:Q.splitScreen,children:[Object(D.jsxs)("div",{style:Q.leftPane,children:[this.correlationMatrixUpload(),Object(D.jsxs)("form",{style:{marginTop:"30px"},children:[Object(D.jsx)("div",{className:"radio",children:Object(D.jsxs)("label",{children:[Object(D.jsx)("input",{type:"radio",value:"Correlation Matrix",checked:"Correlation Matrix"===this.state.selectedUploadOption,onChange:this.onUploadValueChange}),"Correlation Matrix"]})}),Object(D.jsx)("div",{className:"radio",children:Object(D.jsxs)("label",{children:[Object(D.jsx)("input",{type:"radio",value:"PCA",checked:"PCA"===this.state.selectedUploadOption,onChange:this.onUploadValueChange}),"PCA"]})}),Object(D.jsx)("div",{className:"radio",children:Object(D.jsxs)("label",{children:[Object(D.jsx)("input",{type:"radio",value:"PCAir",checked:"PCAir"===this.state.selectedUploadOption,onChange:this.onUploadValueChange}),"PCAir"]})}),Object(D.jsxs)("div",{children:[Object(D.jsxs)("label",{children:[Object(D.jsx)("input",{type:"radio",value:"t-SNE",checked:"t-SNE"===this.state.selectedUploadOption,onChange:this.onUploadValueChange}),"t-SNE"]}),"Correlation Matrix"===this.state.selectedUploadOption&&Object(D.jsxs)("div",{style:{width:"300px",paddingTop:"20px",paddingBottom:"20px"},children:[Object(D.jsx)("label",{children:"Dimensionality Reduction"}),Object(D.jsx)(g.a,{name:"DRA",placeholder:"Algorithm",options:this.state.DRActions,onChange:this.handleDRAChange})]}),"PCAir"===this.state.selectedUploadOption&&Object(D.jsxs)("div",{children:[Object(D.jsx)(E,{}),Object(D.jsx)(z.a,{variant:"outlined",onClick:this.runPCAir,children:"Run PCAir"})]})]}),"PCAir"!==this.state.selectedUploadOption&&Object(D.jsx)("input",{type:"file",accept:".csv,.xlsx,.xls",disabled:null===this.state.selectedUploadOption,onChange:this.handleFileUpload})]}),Object(D.jsx)("hr",{style:{color:"black",backgroundColor:"black",width:"40%",height:3,opacity:1}}),Object(D.jsxs)("div",{style:{width:"270px",paddingVertical:"20px"},children:[Object(D.jsxs)("label",{children:[" ",Object(D.jsx)("h5",{style:{fontSize:"0.8vw"},children:" Describing Columns "})]}),Object(D.jsx)(g.a,{name:"filters",placeholder:"Filters",value:this.state.multiValue.filter((function(t){return"None"!==t.label})),options:this.state.selectActions,onChange:this.handleMultiChange,isMulti:!0})]}),Object(D.jsx)("hr",{style:{color:"black",backgroundColor:"black",width:"40%",height:3,opacity:1}}),Object(D.jsx)(A,{onChange:this.IncrementHandler}),Object(D.jsx)(z.a,{variant:"outlined",onClick:this.runKmeans,children:"Run Kmeans"}),Object(D.jsx)("div",{style:{marginTop:"20%"},children:Object(D.jsx)(z.a,{variant:"outlined",style:{color:"red",fontWeight:"bold",fontStyle:"italic"},onClick:this.onPressReset,children:"RESET"})})]}),Object(D.jsxs)("div",{className:"block-example border border-light",style:Q.rightPane,children:[this.state.isLoading&&Object(D.jsx)(y.a,{type:"TailSpin",color:"#00BFFF",height:"100",width:"100",style:{marginRight:"25%"}}),!this.state.isLoading&&Object(D.jsx)("div",{children:this.showScatterPlot()}),Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"radio",style:Q.dimensions,children:[Object(D.jsxs)(Y.a,{style:{marginLeft:"2%",marginTop:"2%"},children:[Object(D.jsx)(Z.a,{id:"demo-row-radio-buttons-group-label",children:"Plot"}),Object(D.jsxs)(q.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:this.state.selectedOption,onChange:this.onValueChangeDims,children:[Object(D.jsx)(X.a,{value:"1D",control:Object(D.jsx)(K.a,{color:"success",size:"small"}),label:"1D"}),Object(D.jsx)(X.a,{value:"2D",control:Object(D.jsx)(K.a,{color:"success",size:"small"}),label:"2D"}),Object(D.jsx)(X.a,{value:"3D",control:Object(D.jsx)(K.a,{color:"success",size:"small"}),label:"3D"})]})]}),Object(D.jsxs)("div",{style:Q.dropDown,children:[Object(D.jsx)("label",{style:{width:"25%",marginLeft:"12%"},children:Object(D.jsx)("h6",{style:{fontSize:"0.8vw"},children:" X-axis "})}),Object(D.jsx)("div",{style:{width:"75%"},children:Object(D.jsx)(g.a,{options:this.state.selectActions,onChange:this.handleSelectXChange})})]}),Object(D.jsxs)("div",{style:Q.dropDown,children:[Object(D.jsx)("label",{style:{width:"25%",marginLeft:"12%"},children:Object(D.jsx)("h6",{style:{fontSize:"0.8vw"},children:" Y-axis "})}),Object(D.jsx)("div",{style:{width:"75%"},children:Object(D.jsx)(g.a,{options:this.state.selectActions,onChange:this.handleSelectYChange,isDisabled:"3D"!==this.state.selectedOption&&"2D"!==this.state.selectedOption})})]}),Object(D.jsxs)("div",{style:Q.dropDown,children:[Object(D.jsx)("label",{style:{width:"25%",marginLeft:"12%"},children:Object(D.jsx)("h6",{style:{fontSize:"0.8vw"},children:" Z-axis "})}),Object(D.jsx)("div",{style:{width:"75%"},children:Object(D.jsx)(g.a,{options:this.state.selectActions,onChange:this.handleSelectZChange,isDisabled:"3D"!==this.state.selectedOption})})]})]}),Object(D.jsxs)(B.d,{style:Q.optionsContainer,children:[Object(D.jsxs)(B.b,{children:[Object(D.jsx)(B.a,{children:"Settings"}),Object(D.jsx)(B.a,{children:"Output Options"})]}),Object(D.jsxs)(B.c,{children:[Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"row-md-8"}),this.state.multiValue.length>0&&Object(D.jsxs)("div",{style:Q.describingColumnDropDown,children:[Object(D.jsx)("label",{style:{marginLeft:"1%"},children:Object(D.jsx)("h6",{style:{fontSize:"0.8vw",width:"100%",marginTop:"3%",marginLeft:"1%"},children:"Choose Describing Column"})}),Object(D.jsx)("div",{children:Object(D.jsx)(g.a,{value:this.state.selectedDescribingColumn,options:this.state.multiValue,onChange:this.handleSpecificColumns})}),Object(D.jsxs)(Y.a,{style:{marginLeft:"2%",marginTop:"2%"},children:[Object(D.jsx)(Z.a,{id:"describingColumn-row-radio-buttons-group-label",children:"Identify by: "}),Object(D.jsxs)(q.a,{row:!0,"aria-labelledby":"describingColumn-row-radio-buttons-group-label",name:"row-radio-buttons-group",onChange:this.onValueChangeColorShape,style:{marginLeft:"2%",marginTop:"2%"},children:[Object(D.jsx)(X.a,{value:0,control:Object(D.jsx)(K.a,{color:"success",size:"small"}),label:"Color"}),Object(D.jsx)(X.a,{value:1,control:Object(D.jsx)(K.a,{color:"success",size:"small"}),label:"Shape"})]})]})]})]}),Object(D.jsxs)("div",{style:{width:"90%",marginTop:"3%",marginLeft:"3%"},children:[Object(D.jsx)("h6",{style:{fontSize:"0.8vw"},children:"Choose the outlier detection method"}),Object(D.jsx)(g.a,{options:this.state.selectOutlierActions,defaultValue:this.state.selectOutlierActions.filter((function(e){return e.label===t.state.selectedOutlierMethod}))[0],onChange:this.handleOutlierChange}),Object(D.jsx)(F,{columnRange:this.state.columnRange,onChange:this.handleOutlierColumnChange}),Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"20px"},children:[Object(D.jsx)(z.a,{variant:"outlined",onClick:function(){return 0===t.state.pressed?t.setState({pressed:-1}):t.setState({pressed:0})},style:{marginTop:"10%",backgroundColor:0===this.state.pressed?"green":"transparent"},children:"AND"}),Object(D.jsx)(z.a,{variant:"outlined",onClick:function(){return 1===t.state.pressed?t.setState({pressed:-1}):t.setState({pressed:1})},style:{marginTop:"10%",backgroundColor:1===this.state.pressed?"green":"transparent"},children:"OR"})]}),Object(D.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"},children:Object(D.jsx)(z.a,{variant:"outlined",onClick:this.detectOutliers,style:{},disabled:0!==this.state.pressed&&1!==this.state.pressed||null==this.state.selectedOutlierMethod,children:"Detect Outliers"})})]}),null!==this.state.data&&Object(D.jsx)(T,{data:this.state.data,clusterColors:this.state.clusterColors,OutlierData:this.state.OutlierData,columnRange:this.state.columnRange,clusterNames:this.state.cluster_names})]}),Object(D.jsxs)(B.c,{style:Q.outputSettings,children:[" ",this.state.showOutputOptions&&Object(D.jsx)(W,{uniqueClusters:$,parentCallback:this.handleTabOutputCallback})]})]})]})]})]})}}]),a}(s.Component),Q={splitScreen:{display:"flex",flexDirection:"column"},leftPane:{height:"100%",position:"fixed",z_index:1,top:0,overflow_x:"hidden",padding_top:"20px",left:0,width:"40%",marginTop:"5%",marginLeft:"3%"},rightPane:{height:"88%",position:"fixed",display:"flex",flexDirection:"row",top:0,right:0,width:"75%",marginTop:"5%",marginRight:"10px",justifyContent:"center",alignItems:"center",borderRadius:10},radioButtons:{display:"flex",flexDirection:"column",marginTop:"10px"},dimensions:{position:"fixed",z_index:1,top:"10%",overflow_x:"hidden",left:0,marginLeft:"26%",width:"52%",display:"flex",flexDirection:"row",padding:"10px",backgroundColor:"#ebeff7",borderRadius:10},outputSettings:{display:"flex",flexDirection:"column",justifyContent:"space-around"},dropDown:{width:"23%",marginLeft:"4%"},describingColumnDropDown:{width:"90%",marginLeft:"3%"},optionsContainer:{position:"fixed",right:"1%",top:-10,height:"85%",display:"flex",flexDirection:"column",width:"20%",padding:"10px",marginTop:"6%",backgroundColor:"#ebeff7",borderRadius:10}},tt=G,et=a(83);var at=function(){return Object(D.jsxs)("div",{children:[Object(D.jsx)(et.a,{style:{paddingLeft:"30px"},bg:"dark",variant:"dark",children:Object(D.jsx)(et.a.Brand,{children:"Data Visualization Tool"})}),Object(D.jsx)(tt,{})]})};i.a.render(Object(D.jsx)(l.a.StrictMode,{children:Object(D.jsx)(at,{})}),document.getElementById("root"))},94:function(t,e){}},[[186,1,2]]]);
//# sourceMappingURL=main.8f8b9a14.chunk.js.map